<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home Â· Airbnb</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
  </style>
</head>

<body class="bg-gray-50 min-h-screen">

  <!-- Header -->
  <header class="bg-white border-b">
    <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
      <h1 class="text-2xl font-semibold text-rose-500">airbnb</h1>
      <nav>
        <a href="/host/add-home"
          class="px-5 py-2 bg-rose-500 text-white rounded-lg font-medium hover:bg-rose-600 transition">
          Add your home
        </a>
      </nav>
    </div>
  </header>

  <!-- Main Content -->
  <main class="max-w-7xl mx-auto px-6 py-20">
    <h2 class="text-4xl font-semibold text-gray-900 mb-4 text-center">
      Welcome to Airbnb <br>
      Here are Our Registered Homes
    </h2>

    <p class="text-gray-500 text-lg mb-10 text-center">
      Find unique places to stay and experience the world like a local.
    </p>

    <!-- Card Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
      <% registeredHomes.forEach(function(home) { %>
        <div class="bg-white rounded-2xl shadow-md overflow-hidden hover:shadow-xl transition">

          <!-- Image Slider -->
          <div class="relative h-56 overflow-hidden slider">
           <% if (home.images && home.images.length > 0) { %>
  <% home.images.forEach(function(img, index){ %>
    <img
      src="<%= img %>"
      class="slide absolute inset-0 w-full h-full object-cover transition-opacity duration-500 <%= index === 0 ? 'opacity-100' : 'opacity-0' %>"
    />
  <% }) %>
<% } else { %>
  <img
    src="/default.jpg"
    class="absolute inset-0 w-full h-full object-cover"
  />
<% } %>

            <!-- Buttons -->
            <button class="prev absolute left-2 top-1/2 -translate-y-1/2 bg-white/70 px-2 rounded">â€¹</button>
            <button class="next absolute right-2 top-1/2 -translate-y-1/2 bg-white/70 px-2 rounded">â€º</button>
          </div>

          <!-- Content -->
          <div class="p-6">
            <h3 class="text-xl font-semibold mb-2">Home-Title:- <%= home.title %></h3>
            <p class="text-gray-600 mb-2">Home-Description :- <%= home.description %></p>
            <p class="text-gray-500">Location :- <%= home.location %></p>
            <p class="text-gray-800 font-medium mt-2">Price ($):- <%= home.price %> / night</p>
          </div>

        </div>
      <% }); %>
    </div>

    <!-- CTA Button -->
    <div class="text-center mt-10">
      <a href="/host/add-home"
        class="inline-block px-8 py-4 bg-rose-500 text-white text-lg font-medium rounded-xl hover:bg-rose-600 transition shadow-sm">
        Start hosting
      </a>
    </div>

  </main>
<script>
document.querySelectorAll('.slider').forEach(slider => {
  const slides = slider.querySelectorAll('.slide');
  if (slides.length <= 1) return; // ðŸ›‘ important

  let index = 0;

  const showSlide = (i) => {
    slides.forEach((s, idx) => {
      s.classList.toggle('opacity-100', idx === i);
      s.classList.toggle('opacity-0', idx !== i);
    });
  };

  slider.querySelector('.next').onclick = () => {
    index = (index + 1) % slides.length;
    showSlide(index);
  };

  slider.querySelector('.prev').onclick = () => {
    index = (index - 1 + slides.length) % slides.length;
    showSlide(index);
  };

  setInterval(() => {
    index = (index + 1) % slides.length;
    showSlide(index);
  }, 2000);
});
</script>

</body>
</html>
